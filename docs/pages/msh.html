

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Mesh &mdash; PySEMTools develop documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=16816911"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            PySEMTools
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">User Guide:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="datatypes.html">Data types</a></li>
<li class="toctree-l1"><a class="reference internal" href="interpolation.html">Interpolation</a></li>
<li class="toctree-l1"><a class="reference internal" href="io.html">InputOutput (I/O)</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Examples on data types and IO:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../_notebooks/1-datatypes_io.html">Data types and IO</a></li>
<li class="toctree-l1"><a class="reference internal" href="../_notebooks/2-sem_subdomains.html">Sem subdomains</a></li>
<li class="toctree-l1"><a class="reference internal" href="../_notebooks/3-data_compression.html">Data compression</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Examples on calculus on SEM mesh:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../_notebooks/1-differentiation.html">Derivation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../_notebooks/2-integration.html">Integration</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Examples on interpolation:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../_notebooks/1-interpolation_to_query_points.html">Interpolation to query points</a></li>
<li class="toctree-l1"><a class="reference internal" href="../_notebooks/2-element_interpolation.html">Element distribution interpolation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../_notebooks/3-interpolation_from_2d_sem_mesh.html">Interpolation from 2D sem mesh</a></li>
<li class="toctree-l1"><a class="reference internal" href="../_notebooks/5-structured_mesh.html">Generating structured meshes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../_notebooks/6-interpolating_file_sequences.html">Interpolating file sequences</a></li>
<li class="toctree-l1"><a class="reference internal" href="../_notebooks/7-visualizing_pointclouds.html">Visualizing pointclouds</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Examples on reduced order models:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../_notebooks/1-POD_from_pointclouds.html">POD from pointclouds</a></li>
<li class="toctree-l1"><a class="reference internal" href="../_notebooks/2-POD_fft_from_pointclouds.html">POD and fft from pointclouds</a></li>
<li class="toctree-l1"><a class="reference internal" href="../_notebooks/2-POD_fft_from_pointclouds.html#Write-out-data">Write out data</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Examples on statistics:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../_notebooks/1-post_processing_mean_fields.html">Processing statistics files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../_notebooks/1-post_processing_mean_fields.html#Visualize-the-rotated-mean">Visualize the rotated mean</a></li>
<li class="toctree-l1"><a class="reference internal" href="../_notebooks/2-UQ_of_velocity.html">UQ of velocity fields</a></li>
<li class="toctree-l1"><a class="reference internal" href="../_notebooks/3-UQ_of_temperature.html">UQ of temperature fields</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">PySEMTools</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Mesh</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/pages/msh.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="mesh">
<h1>Mesh<a class="headerlink" href="#mesh" title="Link to this heading"></a></h1>
<p>Descriptions of the contents of the Mesh class, which contains the coordinates of the domain and aditional suporting data.</p>
<dl class="py class">
<dt class="sig sig-object py" id="pysemtools.datatypes.msh.Mesh">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pysemtools.datatypes.msh.</span></span><span class="sig-name descname"><span class="pre">Mesh</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">comm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">create_connectivity</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bckend</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'numpy'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pysemtools.datatypes.msh.Mesh" title="Link to this definition"></a></dt>
<dd><p>Class that contains coordinate and partitioning data of the domain.</p>
<p>This class needs to be used generaly as it contains the coordinates of the domain and
some information about the partitioning of the domain.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>comm</strong><span class="classifier">Comm</span></dt><dd><p>MPI comminicator object.</p>
</dd>
<dt><strong>data</strong><span class="classifier">HexaData, optional</span></dt><dd><p>HexaData object that contains the coordinates of the domain.</p>
</dd>
<dt><strong>x</strong><span class="classifier">ndarray, optional</span></dt><dd><p>X coordinates of the domain. shape is (nelv, lz, ly, lx).</p>
</dd>
<dt><strong>y</strong><span class="classifier">ndarray, optional</span></dt><dd><p>Y coordinates of the domain. shape is (nelv, lz, ly, lx).</p>
</dd>
<dt><strong>z</strong><span class="classifier">ndarray, optional</span></dt><dd><p>Z coordinates of the domain. shape is (nelv, lz, ly, lx).</p>
</dd>
<dt><strong>create_connectivity</strong><span class="classifier">bool, optional</span></dt><dd><p>If True, the connectivity of the domain will be created. (Memory intensive).</p>
</dd>
</dl>
</dd>
<dt class="field-even">Attributes<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>x</strong><span class="classifier">ndarray</span></dt><dd><p>X coordinates of the domain. shape is (nelv, lz, ly, lx).</p>
</dd>
<dt><strong>y</strong><span class="classifier">ndarray</span></dt><dd><p>Y coordinates of the domain. shape is (nelv, lz, ly, lx).</p>
</dd>
<dt><strong>z</strong><span class="classifier">ndarray</span></dt><dd><p>Z coordinates of the domain. shape is (nelv, lz, ly, lx).</p>
</dd>
<dt><strong>lx</strong><span class="classifier">int</span></dt><dd><p>Polynomial degree in x direction.</p>
</dd>
<dt><strong>ly</strong><span class="classifier">int</span></dt><dd><p>Polynomial degree in y direction.</p>
</dd>
<dt><strong>lz</strong><span class="classifier">int</span></dt><dd><p>Polynomial degree in z direction.</p>
</dd>
<dt><strong>nelv</strong><span class="classifier">int</span></dt><dd><p>Number of elements in the domain in current rank.</p>
</dd>
<dt><strong>glb_nelv</strong><span class="classifier">int</span></dt><dd><p>Total number of elements in the domain.</p>
</dd>
<dt><strong>gdim</strong><span class="classifier">int</span></dt><dd><p>Dimension of the domain.</p>
</dd>
<dt><strong>non_linear_shared_points</strong><span class="classifier">list, optional</span></dt><dd><p>List that show the index where the points in the domain are shared, used by coef in dssum.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Methods</p>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#pysemtools.datatypes.msh.Mesh.get_edge_centers" title="pysemtools.datatypes.msh.Mesh.get_edge_centers"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_edge_centers</span></code></a>()</p></td>
<td><p>Get the edge centers of the domain.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pysemtools.datatypes.msh.Mesh.get_facet_centers" title="pysemtools.datatypes.msh.Mesh.get_facet_centers"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_facet_centers</span></code></a>()</p></td>
<td><p>Get the centroid of each facet</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pysemtools.datatypes.msh.Mesh.get_vertices" title="pysemtools.datatypes.msh.Mesh.get_vertices"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_vertices</span></code></a>()</p></td>
<td><p>Get the vertices of the domain.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pysemtools.datatypes.msh.Mesh.init_common" title="pysemtools.datatypes.msh.Mesh.init_common"><code class="xref py py-obj docutils literal notranslate"><span class="pre">init_common</span></code></a>(comm)</p></td>
<td><p>Initialize common attributes.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pysemtools.datatypes.msh.Mesh.init_from_coords" title="pysemtools.datatypes.msh.Mesh.init_from_coords"><code class="xref py py-obj docutils literal notranslate"><span class="pre">init_from_coords</span></code></a>(comm, x, y, z)</p></td>
<td><p>Initialize from coordinates.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pysemtools.datatypes.msh.Mesh.init_from_data" title="pysemtools.datatypes.msh.Mesh.init_from_data"><code class="xref py py-obj docutils literal notranslate"><span class="pre">init_from_data</span></code></a>(comm, data)</p></td>
<td><p>Initialize form data.</p></td>
</tr>
</tbody>
</table>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><strong>create_connectivity</strong></p></td>
<td></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"></dd>
</dl>
<p class="rubric">Examples</p>
<p>If a hexadata object: data is read from disk, the mesh object can be created directly from it.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">pysemtools.datatypes.msh</span><span class="w"> </span><span class="kn">import</span> <span class="n">Mesh</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">msh</span> <span class="o">=</span> <span class="n">Mesh</span><span class="p">(</span><span class="n">comm</span><span class="p">,</span> <span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="p">)</span>
</pre></div>
</div>
<p>If the coordinates are already available, the mesh object can be created from them.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">pysemtools.datatypes.msh</span><span class="w"> </span><span class="kn">import</span> <span class="n">Mesh</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">msh</span> <span class="o">=</span> <span class="n">Mesh</span><span class="p">(</span><span class="n">comm</span><span class="p">,</span> <span class="n">x</span> <span class="o">=</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span> <span class="o">=</span> <span class="n">z</span><span class="p">)</span>
</pre></div>
</div>
<p>This is useful in situations where the coordinates are generated in the code or streamed into python from another source.</p>
<dl class="py method">
<dt class="sig sig-object py" id="pysemtools.datatypes.msh.Mesh.get_edge_centers">
<span class="sig-name descname"><span class="pre">get_edge_centers</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pysemtools.datatypes.msh.Mesh.get_edge_centers" title="Link to this definition"></a></dt>
<dd><p>Get the edge centers of the domain.</p>
<p>Get all the edge centers of the domain in 2D or 3D.</p>
<p class="rubric">Notes</p>
<p>We need 4 edges for 2D and 12 edges for 3D. For all cases
we store 3 coordinates for each edge.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pysemtools.datatypes.msh.Mesh.get_facet_centers">
<span class="sig-name descname"><span class="pre">get_facet_centers</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pysemtools.datatypes.msh.Mesh.get_facet_centers" title="Link to this definition"></a></dt>
<dd><p>Get the centroid of each facet</p>
<p>Find the “centroid of each facet. This is used to find the shared facets between elements.</p>
<p class="rubric">Notes</p>
<p>This is not really the centroid, as we also find a coordinate in the dimension perpendicular to the facet.
This means that these values can be outside or inside the element. However the same behaviour should be seen in the matching elements.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pysemtools.datatypes.msh.Mesh.get_vertices">
<span class="sig-name descname"><span class="pre">get_vertices</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pysemtools.datatypes.msh.Mesh.get_vertices" title="Link to this definition"></a></dt>
<dd><p>Get the vertices of the domain.</p>
<p>Get all the vertices of the domain in 2D or 3D.</p>
<p class="rubric">Notes</p>
<p>We need 4 vertices for 2D and 8 vertices for 3D. For all cases,
we store 3 coordinates for each vertex.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pysemtools.datatypes.msh.Mesh.init_common">
<span class="sig-name descname"><span class="pre">init_common</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">comm</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pysemtools.datatypes.msh.Mesh.init_common" title="Link to this definition"></a></dt>
<dd><p>Initialize common attributes.</p>
<p>This function is used to initialize the common attributes of the mesh object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>comm</strong><span class="classifier">Comm</span></dt><dd><p>MPI communicator object.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>None</dt><dd><p>Nothing is returned, the attributes are set in the object.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pysemtools.datatypes.msh.Mesh.init_from_coords">
<span class="sig-name descname"><span class="pre">init_from_coords</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">comm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pysemtools.datatypes.msh.Mesh.init_from_coords" title="Link to this definition"></a></dt>
<dd><p>Initialize from coordinates.</p>
<p>This function is used to initialize the mesh object from x, y, z ndarrays.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>comm</strong><span class="classifier">Comm</span></dt><dd><p>MPI communicator object.</p>
</dd>
<dt><strong>x</strong><span class="classifier">ndarray</span></dt><dd><p>X coordinates of the domain. shape is (nelv, lz, ly, lx).</p>
</dd>
<dt><strong>y</strong><span class="classifier">ndarray</span></dt><dd><p>Y coordinates of the domain. shape is (nelv, lz, ly, lx).</p>
</dd>
<dt><strong>z</strong><span class="classifier">ndarray</span></dt><dd><p>Z coordinates of the domain. shape is (nelv, lz, ly, lx).</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>None</dt><dd><p>Nothing is returned, the attributes are set in the object.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pysemtools.datatypes.msh.Mesh.init_from_data">
<span class="sig-name descname"><span class="pre">init_from_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">comm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pysemtools.datatypes.msh.Mesh.init_from_data" title="Link to this definition"></a></dt>
<dd><p>Initialize form data.</p>
<p>This function is used to initialize the mesh object from a hexadata object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>comm</strong><span class="classifier">Comm</span></dt><dd><p>MPI communicator object.</p>
</dd>
<dt><strong>data</strong><span class="classifier">HexaData</span></dt><dd><p>HexaData object that contains the coordinates of the domain.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>None</dt><dd><p>Nothing is returned, the attributes are set in the object.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="meshconnectivity">
<h1>MeshConnectivity<a class="headerlink" href="#meshconnectivity" title="Link to this heading"></a></h1>
<p>Descriptions of the contents of the MeshConnectivity class. This class determines the connectivity from the geometry and can be used to perform parallel operations like dssum.</p>
<dl class="py class">
<dt class="sig sig-object py" id="pysemtools.datatypes.msh_connectivity.MeshConnectivity">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pysemtools.datatypes.msh_connectivity.</span></span><span class="sig-name descname"><span class="pre">MeshConnectivity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">comm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">msh</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#pysemtools.datatypes.msh.Mesh" title="pysemtools.datatypes.msh.Mesh"><span class="pre">Mesh</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rel_tol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-05</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_hashtable</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_simultaneous_sends</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_elem_per_vertex</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_elem_per_edge</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_elem_per_face</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pysemtools.datatypes.msh_connectivity.MeshConnectivity" title="Link to this definition"></a></dt>
<dd><p>Class to compute the connectivity of the mesh</p>
<p>Uses facets and vertices to determine which elements are connected to each other</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>comm</strong><span class="classifier">MPI communicator</span></dt><dd><p>The MPI communicator</p>
</dd>
<dt><strong>msh</strong><span class="classifier">Mesh</span></dt><dd><p>The mesh object</p>
</dd>
<dt><strong>rel_tol</strong><span class="classifier">float</span></dt><dd><p>The relative tolerance to use when comparing the coordinates of the facets/edges</p>
</dd>
<dt><strong>use_hashtable</strong><span class="classifier">bool</span></dt><dd><p>Whether to use a hashtable to define connectivity. This is faster but uses more memory</p>
</dd>
<dt><strong>max_simultaneous_sends</strong><span class="classifier">int</span></dt><dd><p>The maximum number of simultaneous sends to use when sending data to other ranks. A lower number 
saves memory for buffers but is slower.</p>
</dd>
<dt><strong>max_elem_per_vertex</strong><span class="classifier">int</span></dt><dd><p>The maximum number of elements that share a vertex. The default values are 4 for 2D and 8 for 3D (Works for a structured mesh)
The default value is selected if this input is left as None</p>
</dd>
<dt><strong>max_elem_per_edge</strong><span class="classifier">int</span></dt><dd><p>The maximum number of elements that share an edge. The default values are 2 for 2D and 4 for 3D (Works for a structured mesh)
The default value is selected if this input is left as None</p>
</dd>
<dt><strong>max_elem_per_face</strong><span class="classifier">int</span></dt><dd><p>The maximum number of elements that share a face. The default values are 2 for 3D (Works for a structured mesh)
The default value is selected if this input is left as None</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Methods</p>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#pysemtools.datatypes.msh_connectivity.MeshConnectivity.dssum" title="pysemtools.datatypes.msh_connectivity.MeshConnectivity.dssum"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dssum</span></code></a>([field, msh, average])</p></td>
<td><p>Computes the dssum of the field</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pysemtools.datatypes.msh_connectivity.MeshConnectivity.dssum_global" title="pysemtools.datatypes.msh_connectivity.MeshConnectivity.dssum_global"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dssum_global</span></code></a>([local_dssum_field, field, msh])</p></td>
<td><p>Computes the global dssum of the field</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pysemtools.datatypes.msh_connectivity.MeshConnectivity.dssum_local" title="pysemtools.datatypes.msh_connectivity.MeshConnectivity.dssum_local"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dssum_local</span></code></a>([field, msh])</p></td>
<td><p>Computes the local dssum of the field</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pysemtools.datatypes.msh_connectivity.MeshConnectivity.get_multiplicity" title="pysemtools.datatypes.msh_connectivity.MeshConnectivity.get_multiplicity"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_multiplicity</span></code></a>(msh)</p></td>
<td><p>Computes the multiplicity of the elements in the mesh</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pysemtools.datatypes.msh_connectivity.MeshConnectivity.global_connectivity" title="pysemtools.datatypes.msh_connectivity.MeshConnectivity.global_connectivity"><code class="xref py py-obj docutils literal notranslate"><span class="pre">global_connectivity</span></code></a>(msh)</p></td>
<td><p>Computes the global connectivity of the mesh</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pysemtools.datatypes.msh_connectivity.MeshConnectivity.local_connectivity" title="pysemtools.datatypes.msh_connectivity.MeshConnectivity.local_connectivity"><code class="xref py py-obj docutils literal notranslate"><span class="pre">local_connectivity</span></code></a>(msh)</p></td>
<td><p>Computes the local connectivity of the mesh</p></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt class="sig sig-object py" id="pysemtools.datatypes.msh_connectivity.MeshConnectivity.dssum">
<span class="sig-name descname"><span class="pre">dssum</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">field</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">msh</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#pysemtools.datatypes.msh.Mesh" title="pysemtools.datatypes.msh.Mesh"><span class="pre">Mesh</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">average</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'multiplicity'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pysemtools.datatypes.msh_connectivity.MeshConnectivity.dssum" title="Link to this definition"></a></dt>
<dd><p>Computes the dssum of the field</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>field</strong><span class="classifier">np.ndarray</span></dt><dd><p>The field to compute the dssum</p>
</dd>
<dt><strong>msh</strong><span class="classifier">Mesh</span></dt><dd><p>The mesh object</p>
</dd>
<dt><strong>average</strong><span class="classifier">str</span></dt><dd><p>The averaging weights to use. Can be “multiplicity”</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>np.ndarray</dt><dd><p>The dssum of the field</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pysemtools.datatypes.msh_connectivity.MeshConnectivity.dssum_global">
<span class="sig-name descname"><span class="pre">dssum_global</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">local_dssum_field</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">field</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">msh</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#pysemtools.datatypes.msh.Mesh" title="pysemtools.datatypes.msh.Mesh"><span class="pre">Mesh</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pysemtools.datatypes.msh_connectivity.MeshConnectivity.dssum_global" title="Link to this definition"></a></dt>
<dd><p>Computes the global dssum of the field</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>local_dssum_field</strong><span class="classifier">np.ndarray</span></dt><dd><p>The local dssum of the field, computed with dssum_local</p>
</dd>
<dt><strong>field</strong><span class="classifier">np.ndarray</span></dt><dd><p>The field to compute the dssum</p>
</dd>
<dt><strong>msh</strong><span class="classifier">Mesh</span></dt><dd><p>The mesh object</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>np.ndarray</dt><dd><p>The global dssum of the field</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pysemtools.datatypes.msh_connectivity.MeshConnectivity.dssum_local">
<span class="sig-name descname"><span class="pre">dssum_local</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">field</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">msh</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#pysemtools.datatypes.msh.Mesh" title="pysemtools.datatypes.msh.Mesh"><span class="pre">Mesh</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pysemtools.datatypes.msh_connectivity.MeshConnectivity.dssum_local" title="Link to this definition"></a></dt>
<dd><p>Computes the local dssum of the field</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>field</strong><span class="classifier">np.ndarray</span></dt><dd><p>The field to compute the dssum</p>
</dd>
<dt><strong>msh</strong><span class="classifier">Mesh</span></dt><dd><p>The mesh object</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>np.ndarray</dt><dd><p>The local dssum of the field</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pysemtools.datatypes.msh_connectivity.MeshConnectivity.get_multiplicity">
<span class="sig-name descname"><span class="pre">get_multiplicity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msh</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#pysemtools.datatypes.msh.Mesh" title="pysemtools.datatypes.msh.Mesh"><span class="pre">Mesh</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pysemtools.datatypes.msh_connectivity.MeshConnectivity.get_multiplicity" title="Link to this definition"></a></dt>
<dd><p>Computes the multiplicity of the elements in the mesh</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>msh</strong><span class="classifier">Mesh</span></dt><dd></dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The multiplicity is the number of times a point in a element is shared with its own element or others.
The minimum multiplicity is 1, since the point is always shared with itself.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pysemtools.datatypes.msh_connectivity.MeshConnectivity.global_connectivity">
<span class="sig-name descname"><span class="pre">global_connectivity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msh</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#pysemtools.datatypes.msh.Mesh" title="pysemtools.datatypes.msh.Mesh"><span class="pre">Mesh</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pysemtools.datatypes.msh_connectivity.MeshConnectivity.global_connectivity" title="Link to this definition"></a></dt>
<dd><p>Computes the global connectivity of the mesh</p>
<p>Currently this function sends data from all to all.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>msh</strong><span class="classifier">Mesh</span></dt><dd><p>The mesh object</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>In 3D. this function sends the facet centers of the unique_efp_elem and unique_efp_facet to all other ranks.
as well as the element ID and facet ID to be assigned.</p>
<p>We compare the unique facet centers of our rank to those of others and determine which one matches.
When we find that one matches, we populate the directories:
global_shared_efp_to_rank_map[(e, f)] = rank
global_shared_efp_to_elem_map[(e, f)] = elem
global_shared_efp_to_facet_map[(e, f)] = facet</p>
<p>So for each element facet pair we will know which rank has it, and which is their ID in that rank.</p>
<p>BE MINDFUL: Later when redistributing, send the points, but also send the element and facet ID to the other ranks so the reciever
can know which is the facet that corresponds.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pysemtools.datatypes.msh_connectivity.MeshConnectivity.local_connectivity">
<span class="sig-name descname"><span class="pre">local_connectivity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msh</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#pysemtools.datatypes.msh.Mesh" title="pysemtools.datatypes.msh.Mesh"><span class="pre">Mesh</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pysemtools.datatypes.msh_connectivity.MeshConnectivity.local_connectivity" title="Link to this definition"></a></dt>
<dd><p>Computes the local connectivity of the mesh</p>
<p>This function checks elements within a rank</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>msh</strong><span class="classifier">Mesh</span></dt><dd><p>The mesh object</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>In 3D, the centers of the facets are compared.
efp means element facet pair.
One obtains a local_shared_efp_to_elem_map and a local_shared_efp_to_facet_map dictionary.</p>
<p>local_shared_efp_to_elem_map[(e, f)] = [e1, e2, …] gives a list with the elements e1, e2 …
that share the same facet f of element e.</p>
<p>local_shared_efp_to_facet_map[(e, f)] = [f1, f2, …] gives a list with the facets f1, f2 …
of the elements e1, e2 … that share the same facet f of element e.</p>
<p>In each case, the index of the element list, corresponds to the index of the facet list.
Therefore, the element list might have repeated element entries.</p>
<p>Additionally, we create a list of unique_efp_elem and unique_efp_facet, which are the elements and facets
that are not shared with any other element. These are either boundary elements or elements that are connected to other ranks.
the unique pairs are the ones that are checked in global connecitivy,</p>
</dd></dl>

</dd></dl>

</section>
<section id="meshpartitioner">
<h1>MeshPartitioner<a class="headerlink" href="#meshpartitioner" title="Link to this heading"></a></h1>
<p>Descriptions of the contents of the MeshPartitioner class.
This allows to redistribute elements among ranks based on a partitioning algorithm.</p>
<dl class="py class">
<dt class="sig sig-object py" id="pysemtools.datatypes.msh_partitioning.MeshPartitioner">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pysemtools.datatypes.msh_partitioning.</span></span><span class="sig-name descname"><span class="pre">MeshPartitioner</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">comm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">msh</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#pysemtools.datatypes.msh.Mesh" title="pysemtools.datatypes.msh.Mesh"><span class="pre">Mesh</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">conditions</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">ndarray</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pysemtools.datatypes.msh_partitioning.MeshPartitioner" title="Link to this definition"></a></dt>
<dd><p>A class that repartitons SEM mesh data using a given partitioning algorithm.</p>
<p>The idea is to be able to chose subdomains of the mesh and split the elements such that the load is balanced among the ranks.</p>
<p>One could use this to repartition the data if the condition array is full of True values, but the idea is to be able to use any condition array.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>comm</strong><span class="classifier">MPI communicator</span></dt><dd><p>MPI communicator</p>
</dd>
<dt><strong>msh</strong><span class="classifier">Mesh</span></dt><dd><p>Mesh object to partition</p>
</dd>
<dt><strong>conditions</strong><span class="classifier">list[np.ndarray]</span></dt><dd><p>List of conditions to apply to the mesh elements. The conditions should be in the form of a list of numpy arrays.
Each numpy array should have the same length as the number of elements in the mesh. The conditions should be boolean arrays.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Methods</p>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#pysemtools.datatypes.msh_partitioning.MeshPartitioner.create_partitioned_field" title="pysemtools.datatypes.msh_partitioning.MeshPartitioner.create_partitioned_field"><code class="xref py py-obj docutils literal notranslate"><span class="pre">create_partitioned_field</span></code></a>([fld, ...])</p></td>
<td><p>Create a partitioned field object</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pysemtools.datatypes.msh_partitioning.MeshPartitioner.create_partitioned_mesh" title="pysemtools.datatypes.msh_partitioning.MeshPartitioner.create_partitioned_mesh"><code class="xref py py-obj docutils literal notranslate"><span class="pre">create_partitioned_mesh</span></code></a>([msh, ...])</p></td>
<td><p>Create a partitioned mesh object</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pysemtools.datatypes.msh_partitioning.MeshPartitioner.redistribute_field_elements" title="pysemtools.datatypes.msh_partitioning.MeshPartitioner.redistribute_field_elements"><code class="xref py py-obj docutils literal notranslate"><span class="pre">redistribute_field_elements</span></code></a>([field, ...])</p></td>
<td><p>Redistribute the elements of the mesh object to different ranks</p></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt class="sig sig-object py" id="pysemtools.datatypes.msh_partitioning.MeshPartitioner.create_partitioned_field">
<span class="sig-name descname"><span class="pre">create_partitioned_field</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fld</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="field.html#pysemtools.datatypes.field.Field" title="pysemtools.datatypes.field.Field"><span class="pre">Field</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="field.html#pysemtools.datatypes.field.FieldRegistry" title="pysemtools.datatypes.field.FieldRegistry"><span class="pre">FieldRegistry</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">partitioning_algorithm</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'load_balanced_linear'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="field.html#pysemtools.datatypes.field.FieldRegistry" title="pysemtools.datatypes.field.FieldRegistry"><span class="pre">FieldRegistry</span></a></span></span><a class="headerlink" href="#pysemtools.datatypes.msh_partitioning.MeshPartitioner.create_partitioned_field" title="Link to this definition"></a></dt>
<dd><p>Create a partitioned field object</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>fld</strong><span class="classifier">Field or FieldRegistry</span></dt><dd><p>Field object to partition</p>
</dd>
<dt><strong>partitioning_algorithm</strong><span class="classifier">str</span></dt><dd><p>Algorithm to use for partitioning the mesh elements</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>partitioned_field</strong><span class="classifier">FieldRegistry</span></dt><dd><p>Partitioned field object</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pysemtools.datatypes.msh_partitioning.MeshPartitioner.create_partitioned_mesh">
<span class="sig-name descname"><span class="pre">create_partitioned_mesh</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msh</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#pysemtools.datatypes.msh.Mesh" title="pysemtools.datatypes.msh.Mesh"><span class="pre">Mesh</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">partitioning_algorithm</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'load_balanced_linear'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">create_conectivity</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#pysemtools.datatypes.msh.Mesh" title="pysemtools.datatypes.msh.Mesh"><span class="pre">Mesh</span></a></span></span><a class="headerlink" href="#pysemtools.datatypes.msh_partitioning.MeshPartitioner.create_partitioned_mesh" title="Link to this definition"></a></dt>
<dd><p>Create a partitioned mesh object</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>msh</strong><span class="classifier">Mesh</span></dt><dd><p>Mesh object to partition</p>
</dd>
<dt><strong>partitioning_algorithm</strong><span class="classifier">str</span></dt><dd><p>Algorithm to use for partitioning the mesh elements</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>partitioned_mesh</strong><span class="classifier">Mesh</span></dt><dd><p>Partitioned mesh object</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pysemtools.datatypes.msh_partitioning.MeshPartitioner.redistribute_field_elements">
<span class="sig-name descname"><span class="pre">redistribute_field_elements</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">field</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">partitioning_algorithm</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'load_balanced_linear'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#pysemtools.datatypes.msh_partitioning.MeshPartitioner.redistribute_field_elements" title="Link to this definition"></a></dt>
<dd><p>Redistribute the elements of the mesh object to different ranks</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>field</strong><span class="classifier">np.ndarray</span></dt><dd><p>Field to redistribute based on the conditions at initialization</p>
</dd>
<dt><strong>partitioning_algorithm</strong><span class="classifier">str</span></dt><dd><p>Algorithm to use for partitioning the mesh elements</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Neko authors.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>